--DAY9 수업내용

--DDL(DATA DEFINITION LANGUAGE)
--CREATE, ALTER, DROP
--객체를 만들고 수정하고 삭제할 때 사용하는 구문
SELECT * FROM EMPLOYEE;

INSERT INTO EMPLOYEE( EMP_ID, EMP_NO, EMP_NAME, EMAIL, PHONE, HIRE_DATE, JOB_ID, SALARY, BONUS_PCT, MARRIAGE, MGR_ID, DEPT_ID )
VALUES('900','811126-1484710','오윤하','oyuh@vcc.com', '01012345678','06/01/01','J7',3000000, 0, 'N', '176', '90');

INSERT INTO EMPLOYEE VALUES ('910', '이병언', '781010-1443269', 'TK1@VCC.COM', '01077886655', '04/01/01', 'J7', 3500000, 0.1, 'N','176', '90');

INSERT INTO EMPLOYEE (EMP_ID, EMP_NO, EMP_NAME, PHONE, HIRE_DATE, JOB_ID, SALARY, BONUS_PCT, MARRIAGE ) VALUES
('880', '860412-2377610', '한채연', '0193382662', '06/01/01', 'J7', 3000000, 0, 'N');

INSERT INTO EMPLOYEE VALUES ('840', '하지언', '870115-2253408', 'ju_ha@vcc.com', NULL, '07/06/15', 'J7', NULL, NULL, 'N', '', '');

COMMIT;

INSERT INTO EMPLOYEE (EMP_ID, EMP_NO, EMP_NAME, SALARY, MARRIAGE) VALUES ('860', '810429-2165344', '선예진', DEFAULT, DEFAULT);


CREATE TABLE EMP (EMP_ID    CHAR(3), EMP_NAME  VARCHAR2(20), DEPT_NAME VARCHAR2(20));
INSERT INTO EMP ( SELECT EMP_ID, EMP_NAME, DEPT_NAME FROM   EMPLOYEE LEFT OUTER JOIN DEPARTMENT USING (DEPT_ID) ); 
SELECT * FROM EMP;

COMMIT;

INSERT INTO EMPLYEE (EMP_ID, EMP_NAME, EMP_NO, MARRIAGE, JOB_ID, DEPT_ID) VALUES('100','이영희','770130-2123456', DEFAULT, NULL, NULL);

UPDATE EMPLOYEE
SET JOB_ID = (SELECT JOB_ID FROM EMPLOYEE WHERE EMP_NAME = '성해교'),
      SALARY = (SELECT SALARY FROM EMPLOYEE WHERE EMP_NAME = '성해교')
      WHERE EMP_NAME = '심하균';
      
      ROLLBACK;
UPDATE EMPLOYEE
SET (JOB_ID, SALARY) = (SELECT JOB_ID, SALARY FROM EMPLOYEE WHERE EMP_NAME = '성해교')
WHERE EMP_NAME = '심하균';

SELECT * FROM EMPLOYEE WHERE EMP_NAME IN ('심하균','성해교');

SELECT EMP_NAME, MARRIAGE
FROM EMPLOYEE
WHERE EMP_ID = '210';

UPDATE EMPLOYEE
SET BONUS_PCT = 0.3
WHERE DEPT_ID = (SELECT DEPT_ID FROM DEPARTMENT WHERE DEPT_NAME = '해외영업2팀');

SELECT EMP_NAME, BONUS_PCT FROM EMPLOYEE WHERE DEPT_ID = (SELECT DEPT_ID FROM DEPARTMENT WHERE DEPT_NAME = '해외영업2팀');